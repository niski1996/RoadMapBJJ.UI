@using RoadMapBJJ.UI.Common
@using RoadMapBJJ.UI.DTOs

<RadzenRow>
    <RadzenColumn Size="12" SizeMD="6" class="label-column">
        <RadzenStack Gap="2rem">
                <RadzenFormField Text="User name" Variant="Variant.Filled" Style="width: 100%;">
                    <RadzenTextBox Name="UserName" @bind-Value=@User.UserName Style="width: 100%"/>
                    <RadzenRequiredValidator Component="UserName" Text="Enter user name"/>
                    <RadzenRegexValidator Component="UserName" Text=@AppRegex.BaseInfo Pattern="@AppRegex.BaseRegex"/>
                </RadzenFormField>
                <RadzenFormField Text="Password" Variant="Variant.Filled" Style="width: 100%;">
                    <RadzenPassword Name="Password" @bind-Value=@User.Password Style="width: 100%"/>
                    <RadzenRequiredValidator Component="Password" Text="Enter password"/>
                    <RadzenRegexValidator Component="Password" Text=@AppRegex.PasswordInfo Pattern="@AppRegex.PasswordRegex"/>
                </RadzenFormField>
            <RadzenFormField Text="Repeat Password" Variant="Variant.Filled" Style="width: 100%;">
                <RadzenPassword Name="RepeatPassword" @bind-Value="@repeatPassword" Style="width: 100%"/>
                <RadzenRequiredValidator Component="RepeatPassword" Text="Repeat your password"/>
                <RadzenCompareValidator Visible=@(!string.IsNullOrEmpty(repeatPassword)) Value=@User.Password Component="RepeatPassword" Text="Passwords should be the same"/>
            </RadzenFormField>
        </RadzenStack>
    </RadzenColumn>
    <RadzenColumn Size="12" SizeMD="6" class="label-column">
        <RadzenFormField Text="Name" Variant="Variant.Filled" Style="width: 100%;">
            <RadzenTextBox Name="Name" @bind-Value=@User.Name Style="width: 100%"/>
            <RadzenRequiredValidator Component="Name" Text="Enter name"/>
            <RadzenRegexValidator Component="Name" Text=@AppRegex.BaseInfo Pattern="@AppRegex.BaseRegex"/>
        </RadzenFormField>
        <RadzenFormField Text="Last name Variant="Variant.Filled" Style="width: 100%;">
        <RadzenTextBox Name="LastName" @bind-Value=@User.LastName Style="width: 100%"/>
        <RadzenRequiredValidator Component="LastName" Text="Enter last name"/>
        <RadzenRegexValidator Component="LastName" Text=@AppRegex.LastNameInfo Pattern="@AppRegex.LastNameRegex"/>
        </RadzenFormField>
        
        
        <RadzenStack Gap="2rem">
            <RadzenRow AlignItems="AlignItems.Center" RowGap="1rem">
                <RadzenColumn Size="12" SizeMD="4" class="label-column">
                    <RadzenLabel Text="Name"/>
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="8">
                    <RadzenTextBox Name="Name" @bind-Value=@User.Name Style="width: 100%"/>
                    <RadzenRequiredValidator Component="Name" Text="Enter name"/>
                    <RadzenRegexValidator Component="Name" Text=@AppRegex.BaseInfo Pattern="@AppRegex.BaseRegex"/>
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow AlignItems="AlignItems.Center" RowGap="1rem">
                <RadzenColumn Size="12" SizeMD="4" class="label-column">
                    <RadzenLabel Text="Last Name"/>
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="8">
                    <RadzenTextBox Name="LastName" @bind-Value=@User.LastName Style="width: 100%"/>
                    <RadzenRequiredValidator Component="LastName" Text="Enter last name"/>
                    <RadzenRegexValidator Component="LastName" Text=@AppRegex.LastNameInfo Pattern="@AppRegex.LastNameRegex"/>
                </RadzenColumn>
            </RadzenRow>
        </RadzenStack>
    </RadzenColumn>
</RadzenRow>

@code {
string? repeatPassword;

[Parameter, EditorRequired] public required UserModel User { get; set; }
}
